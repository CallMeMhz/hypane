{% set data = storage.get('countdown', {}) %}
{% set target_date = data.get('targetDate', '') %}
{% set event_name = data.get('eventName', '目标日') %}

<div class="h-full flex flex-col items-center justify-center text-center"
     x-data="{ days: '--' }"
     x-init="
       const target = '{{ target_date }}';
       function calc() {
         if (!target) { days = '--'; return; }
         const diff = Math.ceil((new Date(target) - new Date()) / 86400000);
         days = diff;
       }
       calc();
       setInterval(calc, 60000);
     ">
  <div class="text-sm text-gray-500 mb-2">{{ event_name }}</div>
  <div class="text-4xl font-bold text-gray-100 mb-1" x-text="days"></div>
  <div class="text-sm text-gray-400">天</div>
  <div class="text-xs text-gray-600 mt-3">{{ target_date }}</div>
</div>
